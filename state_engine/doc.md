# 状态机节点设计文档

## 1. 节点类型与定位

### DECISION 节点
- **定义**：存储「问题/判定点」。  
- **特点**：
  - 提出一个明确的问题。  
  - 用户可能给出多个不同的回答。  
  - 每个回答对应一条转移路径（出边）。  
- **语义**：相当于 `if-else / switch-case`。  
- **例子**：  
  - 「RCS 日志显示是否电量低？」  
    - 回答 `是` → 转去 `Solution(充电)`  
    - 回答 `否` → 转去 `Solution(插拔电池线)`  

---

### SOLUTION 节点
- **定义**：存储「解决方案/动作」。  
- **特点**：
  - 表达一个具体操作步骤。  
  - 执行后只需确认「是否解决问题」。  
  - 出边固定为两种结果：  
    - **解决** → 转移到 `END` 节点（问题完成）。  
    - **未解决** → 转移到下一个 `DECISION` 或 `SOLUTION` 节点继续排查。  
- **语义**：相当于「尝试修复 → if 成功 → done else → 下一步」。  
- **例子**：  
  - 「请手动充电 20 分钟后再次尝试开机。」  
    - `能开机` → 转移到 `END`  
    - `仍不能开机` → 转移到下一步  

---

### ESCALATE 节点
- **定义**：转人工/异常兜底。  
- **特点**：
  - 当系统无法给出明确路径时进入。  
  - 用于异常处理或需要人工介入的场景。  
- **语义**：相当于「fallback / default handler」。  
- **例子**：  
  - 「请联系专业的售后技术支持人员获得帮助。」  

---

### END 节点
- **定义**：问题解决，流程结束。  
- **特点**：
  - 没有出边。  
  - 表示整个故障排查流程完成。  
- **语义**：流程的终点状态。  
- **例子**：  
  - 「问题已解决，设备可以正常使用。」  

---

## 2. 状态类型总结表

| 节点类型   | 含义           | 出边数量              | 典型场景                          |
|------------|----------------|-----------------------|-----------------------------------|
| DECISION   | 判断/提问      | 多个（≥2）            | “是否电量低？”、“AP 是否离线？”   |
| SOLUTION   | 执行动作验证   | 固定 2 个（解决/未解决） | “手动充电”、“更换电池模块”        |
| ESCALATE   | 转人工/异常兜底 | 0（或单一兜底）       | “联系人工客服”                    |
| END        | 流程结束       | 0                     | “问题解决”                        |
